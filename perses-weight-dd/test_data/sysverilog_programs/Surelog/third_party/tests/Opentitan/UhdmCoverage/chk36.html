
<!DOCTYPE html>
<html>
<head>
<style>
body {

}
p {
font-size: 14px;
}</style>
<h3>hw/ip/flash_ctrl/rtl/flash_ctrl_pkg.sv Cov: 100% </h3>
<pre style="margin:0; padding:0 ">   1: // Copyright lowRISC contributors.</pre>
<pre style="margin:0; padding:0 ">   2: // Licensed under the Apache License, Version 2.0, see LICENSE for details.</pre>
<pre style="margin:0; padding:0 ">   3: // SPDX-License-Identifier: Apache-2.0</pre>
<pre style="margin:0; padding:0 ">   4: //</pre>
<pre style="margin:0; padding:0 ">   5: // Faux Flash Controller module.</pre>
<pre style="margin:0; padding:0 ">   6: //</pre>
<pre style="margin:0; padding:0 ">   7: </pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">   8: package flash_ctrl_pkg;</pre>
<pre style="margin:0; padding:0 ">   9: </pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  10:   localparam int FlashTotalPages = top_pkg::FLASH_BANKS * top_pkg::FLASH_PAGES_PER_BANK;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  11:   localparam int AllPagesW = $clog2(FlashTotalPages);</pre>
<pre style="margin:0; padding:0 ">  12: </pre>
<pre style="margin:0; padding:0 ">  13:   // Flash Operations Supported</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  14:   typedef enum logic [1:0] {</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  15:     FlashRead      = 2'h0,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  16:     FlashProg      = 2'h1,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  17:     FlashErase     = 2'h2</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  18:   } flash_op_e;</pre>
<pre style="margin:0; padding:0 ">  19: </pre>
<pre style="margin:0; padding:0 ">  20:   // Flash Erase Operations Supported</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  21:   typedef enum logic  {</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  22:     PageErase     = 0,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  23:     BankErase     = 1</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  24:   } flash_erase_op_e;</pre>
<pre style="margin:0; padding:0 ">  25: </pre>
<pre style="margin:0; padding:0 ">  26:   // Flash tlul to fifo direction</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  27:   typedef enum logic  {</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  28:     WriteDir     = 1'b0,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  29:     ReadDir      = 1'b1</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  30:   } flash_flfo_dir_e;</pre>
<pre style="margin:0; padding:0 ">  31: </pre>
<pre style="margin:0; padding:0 ">  32:   // Flash controller to memory</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  33:   typedef struct packed {</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  34:     logic                         req;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  35:     logic                         rd;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  36:     logic                         prog;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  37:     logic                         pg_erase;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  38:     logic                         bk_erase;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  39:     logic [top_pkg::FLASH_AW-1:0] addr;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  40:     logic [top_pkg::FLASH_DW-1:0] prog_data;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  41:   } flash_c2m_t;</pre>
<pre style="margin:0; padding:0 ">  42: </pre>
<pre style="margin:0; padding:0 ">  43:   // memory to flash controller</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  44:   typedef struct packed {</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  45:     logic                         rd_done;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  46:     logic                         prog_done;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  47:     logic                         erase_done;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  48:     logic [top_pkg::FLASH_DW-1:0] rd_data;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  49:     logic                         init_busy;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  50:   } flash_m2c_t;</pre>
<pre style="margin:0; padding:0 ">  51: </pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  52: endpackage : flash_ctrl_pkg</pre>
<pre style="margin:0; padding:0 ">  53: </pre>
</body>
</html>
