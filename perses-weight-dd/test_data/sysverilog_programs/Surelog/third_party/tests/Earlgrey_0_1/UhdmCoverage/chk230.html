
<!DOCTYPE html>
<html>
<head>
<style>
body {

}
p {
font-size: 14px;
}</style>
<h3>../src/lowrisc_systems_top_earlgrey_0.1/rtl/autogen/top_earlgrey.sv Cov: 99% </h3>
<pre style="margin:0; padding:0 ">// Copyright lowRISC contributors.</pre>
<pre style="margin:0; padding:0 ">// Licensed under the Apache License, Version 2.0, see LICENSE for details.</pre>
<pre style="margin:0; padding:0 ">// SPDX-License-Identifier: Apache-2.0</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">module top_earlgrey #(</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  parameter bit IbexPipeLine = 0,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  parameter     BootRomInitFile = ""</pre>
<pre style="margin:0; padding:0 ">) (</pre>
<pre style="margin:0; padding:0 ">  // Clock and Reset</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input               clk_i,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input               rst_ni,</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // Fixed io clock</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input               clk_io_i,</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // USB clock</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input               clk_usb_i,</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // aon clock</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input               clk_aon_i,</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // JTAG interface</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input               jtag_tck_i,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input               jtag_tms_i,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input               jtag_trst_ni,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input               jtag_tdi_i,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  output              jtag_tdo_o,</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // Multiplexed I/O</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input        [31:0] mio_in_i,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  output logic [31:0] mio_out_o,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  output logic [31:0] mio_oe_o,</pre>
<pre style="margin:0; padding:0 ">  // Dedicated I/O</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input        [14:0] dio_in_i,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  output logic [14:0] dio_out_o,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  output logic [14:0] dio_oe_o,</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  // pad attributes to padring</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  output logic[padctrl_reg_pkg::NMioPads-1:0]</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">              [padctrl_reg_pkg::AttrDw-1:0]   mio_attr_o,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  output logic[padctrl_reg_pkg::NDioPads-1:0]</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">              [padctrl_reg_pkg::AttrDw-1:0]   dio_attr_o,</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  input               scanmode_i  // 1 for Scan</pre>
<pre style="margin:0; padding:0 ">);</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // JTAG IDCODE for development versions of this code.</pre>
<pre style="margin:0; padding:0 ">  // Manufacturers of OpenTitan chips must replace this code with one of their</pre>
<pre style="margin:0; padding:0 ">  // own IDs.</pre>
<pre style="margin:0; padding:0 ">  // Field structure as defined in the IEEE 1149.1 (JTAG) specification,</pre>
<pre style="margin:0; padding:0 ">  // section 12.1.1.</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  localparam logic [31:0] JTAG_IDCODE = {</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    4'h0,     // Version</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    16'h4F54, // Part Number: "OT"</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    11'h426,  // Manufacturer Identity: Google</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    1'b1      // (fixed)</pre>
<pre style="margin:0; padding:0 ">  };</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  import tlul_pkg::*;</pre>
<pre style="margin:0; padding:0 ">  import top_pkg::*;</pre>
<pre style="margin:0; padding:0 ">  import tl_main_pkg::*;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t  tl_corei_h_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t  tl_corei_h_d2h;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t  tl_cored_h_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t  tl_cored_h_d2h;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t  tl_dm_sba_h_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t  tl_dm_sba_h_d2h;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t  tl_debug_mem_d_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t  tl_debug_mem_d_d2h;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t  tl_uart_d_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t  tl_uart_d_d2h;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t  tl_gpio_d_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t  tl_gpio_d_d2h;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t  tl_spi_device_d_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t  tl_spi_device_d_d2h;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t  tl_flash_ctrl_d_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t  tl_flash_ctrl_d_d2h;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t  tl_rv_timer_d_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t  tl_rv_timer_d_d2h;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t  tl_aes_d_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t  tl_aes_d_d2h;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t  tl_hmac_d_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t  tl_hmac_d_d2h;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t  tl_rv_plic_d_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t  tl_rv_plic_d_d2h;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t  tl_pinmux_d_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t  tl_pinmux_d_d2h;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t  tl_padctrl_d_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t  tl_padctrl_d_d2h;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t  tl_alert_handler_d_h2d;</pre>
<pre style="margin:0; padding:0 ">  tl_d2h_t  tl_alert_handler_d_d2h;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t  tl_pwrmgr_d_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t  tl_pwrmgr_d_d2h;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t  tl_rstmgr_d_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t  tl_rstmgr_d_d2h;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t  tl_clkmgr_d_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t  tl_clkmgr_d_d2h;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t  tl_nmi_gen_d_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t  tl_nmi_gen_d_d2h;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t  tl_usbdev_d_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t  tl_usbdev_d_d2h;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t tl_rom_d_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t tl_rom_d_d2h;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t tl_ram_main_d_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t tl_ram_main_d_d2h;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t tl_eflash_d_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t tl_eflash_d_d2h;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_h2d_t tl_main_peri_h2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tl_d2h_t tl_main_peri_d2h;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // Signals</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [31:0] mio_p2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [31:0] mio_d2p;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [31:0] mio_d2p_en;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [14:0] dio_p2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [14:0] dio_d2p;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [14:0] dio_d2p_en;</pre>
<pre style="margin:0; padding:0 ">  // uart</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        cio_uart_rx_p2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        cio_uart_tx_d2p;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        cio_uart_tx_en_d2p;</pre>
<pre style="margin:0; padding:0 ">  // gpio</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [31:0] cio_gpio_gpio_p2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [31:0] cio_gpio_gpio_d2p;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [31:0] cio_gpio_gpio_en_d2p;</pre>
<pre style="margin:0; padding:0 ">  // spi_device</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        cio_spi_device_sck_p2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        cio_spi_device_csb_p2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        cio_spi_device_mosi_p2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        cio_spi_device_miso_d2p;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        cio_spi_device_miso_en_d2p;</pre>
<pre style="margin:0; padding:0 ">  // flash_ctrl</pre>
<pre style="margin:0; padding:0 ">  // rv_timer</pre>
<pre style="margin:0; padding:0 ">  // aes</pre>
<pre style="margin:0; padding:0 ">  // hmac</pre>
<pre style="margin:0; padding:0 ">  // rv_plic</pre>
<pre style="margin:0; padding:0 ">  // pinmux</pre>
<pre style="margin:0; padding:0 ">  // padctrl</pre>
<pre style="margin:0; padding:0 ">  // alert_handler</pre>
<pre style="margin:0; padding:0 ">  // pwrmgr</pre>
<pre style="margin:0; padding:0 ">  // rstmgr</pre>
<pre style="margin:0; padding:0 ">  // clkmgr</pre>
<pre style="margin:0; padding:0 ">  // nmi_gen</pre>
<pre style="margin:0; padding:0 ">  // usbdev</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        cio_usbdev_sense_p2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        cio_usbdev_d_p2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        cio_usbdev_dp_p2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        cio_usbdev_dn_p2d;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        cio_usbdev_se0_d2p;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        cio_usbdev_se0_en_d2p;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        cio_usbdev_dp_pullup_d2p;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        cio_usbdev_dp_pullup_en_d2p;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        cio_usbdev_dn_pullup_d2p;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        cio_usbdev_dn_pullup_en_d2p;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        cio_usbdev_tx_mode_se_d2p;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        cio_usbdev_tx_mode_se_en_d2p;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        cio_usbdev_suspend_d2p;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        cio_usbdev_suspend_en_d2p;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        cio_usbdev_d_d2p;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        cio_usbdev_d_en_d2p;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        cio_usbdev_dp_d2p;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        cio_usbdev_dp_en_d2p;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        cio_usbdev_dn_d2p;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        cio_usbdev_dn_en_d2p;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [80:0]  intr_vector;</pre>
<pre style="margin:0; padding:0 ">  // Interrupt source list</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_uart_tx_watermark;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_uart_rx_watermark;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_uart_tx_empty;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_uart_rx_overflow;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_uart_rx_frame_err;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_uart_rx_break_err;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_uart_rx_timeout;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_uart_rx_parity_err;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [31:0] intr_gpio_gpio;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_spi_device_rxf;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_spi_device_rxlvl;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_spi_device_txlvl;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_spi_device_rxerr;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_spi_device_rxoverflow;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_spi_device_txunderflow;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_flash_ctrl_prog_empty;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_flash_ctrl_prog_lvl;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_flash_ctrl_rd_full;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_flash_ctrl_rd_lvl;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_flash_ctrl_op_done;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_flash_ctrl_op_error;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_rv_timer_timer_expired_0_0;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_hmac_hmac_done;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_hmac_fifo_empty;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_hmac_hmac_err;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_alert_handler_classa;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_alert_handler_classb;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_alert_handler_classc;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_alert_handler_classd;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_pwrmgr_wakeup;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_nmi_gen_esc0;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_nmi_gen_esc1;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_nmi_gen_esc2;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_nmi_gen_esc3;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_usbdev_pkt_received;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_usbdev_pkt_sent;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_usbdev_disconnected;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_usbdev_host_lost;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_usbdev_link_reset;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_usbdev_link_suspend;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_usbdev_link_resume;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_usbdev_av_empty;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_usbdev_rx_full;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_usbdev_av_overflow;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_usbdev_link_in_err;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_usbdev_rx_crc_err;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_usbdev_rx_pid_err;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_usbdev_rx_bitstuff_err;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_usbdev_frame;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic intr_usbdev_connected;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [0:0] irq_plic;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [0:0] msip;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [6:0] irq_id[1];</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [6:0] unused_irq_id[1];</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // this avoids lint errors</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign unused_irq_id = irq_id;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // Alert list</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  prim_alert_pkg::alert_tx_t [alert_pkg::NAlerts-1:0]  alert_tx;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  prim_alert_pkg::alert_rx_t [alert_pkg::NAlerts-1:0]  alert_rx;</pre>
<pre style="margin:0; padding:0 ">  // Escalation outputs</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  prim_esc_pkg::esc_tx_t [alert_pkg::N_ESC_SEV-1:0]  esc_tx;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  prim_esc_pkg::esc_rx_t [alert_pkg::N_ESC_SEV-1:0]  esc_rx;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // define inter-module signals</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  flash_ctrl_pkg::flash_req_t       flash_ctrl_flash_req;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  flash_ctrl_pkg::flash_rsp_t       flash_ctrl_flash_rsp;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  pwrmgr_pkg::pwr_rst_req_t       pwrmgr_pwr_rst_req;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  pwrmgr_pkg::pwr_rst_rsp_t       pwrmgr_pwr_rst_rsp;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  pwrmgr_pkg::pwr_clk_req_t       pwrmgr_pwr_clk_req;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  pwrmgr_pkg::pwr_clk_rsp_t       pwrmgr_pwr_clk_rsp;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  rstmgr_pkg::rstmgr_out_t       rstmgr_resets;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  rstmgr_pkg::rstmgr_cpu_t       rstmgr_cpu;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  pwrmgr_pkg::pwr_cpu_t       pwrmgr_pwr_cpu;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  clkmgr_pkg::clkmgr_out_t       clkmgr_clocks;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // Non-debug module reset == reset for everything except for the debug module</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic ndmreset_req;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // debug request from rv_dm to core</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic debug_req;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // processor core</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  rv_core_ibex #(</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .PMPEnable                (1),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .PMPGranularity           (0), // 2^(PMPGranularity+2) == 4 byte granularity</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .PMPNumRegions            (16),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .MHPMCounterNum           (8),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .MHPMCounterWidth         (40),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .RV32E                    (0),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .RV32M                    (1),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .BranchTargetALU          (1),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .WritebackStage           (1),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .MultiplierImplementation ("single-cycle"),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .ICache                   (0),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .ICacheECC                (0),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .DbgTriggerEn             (1),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .SecureIbex               (0),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .DmHaltAddr               (ADDR_SPACE_DEBUG_MEM + dm::HaltAddress),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .DmExceptionAddr          (ADDR_SPACE_DEBUG_MEM + dm::ExceptionAddress),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .PipeLine                 (IbexPipeLine)</pre>
<pre id="id283" style="background-color: #FFB6C1; margin:0; padding:0 ">  ) u_rv_core_ibex (</pre>
<pre style="margin:0; padding:0 ">    // clock and reset</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .clk_i                (clkmgr_clocks.clk_proc_main),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rst_ni               (rstmgr_resets.rst_sys_n),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .test_en_i            (1'b0),</pre>
<pre style="margin:0; padding:0 ">    // static pinning</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .hart_id_i            (32'b0),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .boot_addr_i          (ADDR_SPACE_ROM),</pre>
<pre style="margin:0; padding:0 ">    // TL-UL buses</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_i_o               (tl_corei_h_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_i_i               (tl_corei_h_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_d_o               (tl_cored_h_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_d_i               (tl_cored_h_d2h),</pre>
<pre style="margin:0; padding:0 ">    // interrupts</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .irq_software_i       (msip),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .irq_timer_i          (intr_rv_timer_timer_expired_0_0),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .irq_external_i       (irq_plic),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .irq_fast_i           (15'b0),// PLIC handles all peripheral interrupts</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .irq_nm_i             (1'b0),// TODO - add and connect alert responder</pre>
<pre style="margin:0; padding:0 ">    // debug interface</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .debug_req_i          (debug_req),</pre>
<pre style="margin:0; padding:0 ">    // CPU control signals</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .fetch_enable_i       (1'b1),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .core_sleep_o         (pwrmgr_pwr_cpu.core_sleeping)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // Debug Module (RISC-V Debug Spec 0.13)</pre>
<pre style="margin:0; padding:0 ">  //</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  rv_dm #(</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .NrHarts     (1),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .IdcodeValue (JTAG_IDCODE)</pre>
<pre id="id315" style="background-color: #FFB6C1; margin:0; padding:0 ">  ) u_dm_top (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .clk_i         (clkmgr_clocks.clk_proc_main),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rst_ni        (rstmgr_resets.rst_lc_n),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .testmode_i    (1'b0),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .ndmreset_o    (ndmreset_req),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .dmactive_o    (),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .debug_req_o   (debug_req),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .unavailable_i (1'b0),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">    // bus device with debug memory (for execution-based debug)</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_d_i        (tl_debug_mem_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_d_o        (tl_debug_mem_d_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">    // bus host (for system bus accesses, SBA)</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_h_o        (tl_dm_sba_h_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_h_i        (tl_dm_sba_h_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">    //JTAG</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tck_i            (jtag_tck_i),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tms_i            (jtag_tms_i),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .trst_ni          (jtag_trst_ni),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .td_i             (jtag_tdi_i),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .td_o             (jtag_tdo_o),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tdo_oe_o         (       )</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign rstmgr_cpu.ndmreset_req = ndmreset_req;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign rstmgr_cpu.rst_cpu_n = rstmgr_resets.rst_sys_n;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // ROM device</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        rom_req;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [11:0] rom_addr;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [31:0] rom_rdata;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        rom_rvalid;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tlul_adapter_sram #(</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .SramAw(12),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .SramDw(32),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .Outstanding(2),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .ErrOnWrite(1)</pre>
<pre id="id355" style="background-color: #FFB6C1; margin:0; padding:0 ">  ) u_tl_adapter_rom (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .clk_i   (clkmgr_clocks.clk_main_infra),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rst_ni   (rstmgr_resets.rst_sys_n),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_i     (tl_rom_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_o     (tl_rom_d_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .req_o    (rom_req),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .gnt_i    (1'b1), // Always grant as only one requester exists</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .we_o     (),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .addr_o   (rom_addr),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .wdata_o  (),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .wmask_o  (),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rdata_i  (rom_rdata),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rvalid_i (rom_rvalid),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rerror_i (2'b00)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  prim_rom_adv #(</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .Width(32),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .Depth(4096),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .MemInitFile(BootRomInitFile)</pre>
<pre id="id377" style="background-color: #FFB6C1; margin:0; padding:0 ">  ) u_rom_rom (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .clk_i   (clkmgr_clocks.clk_main_infra),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rst_ni   (rstmgr_resets.rst_sys_n),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .req_i    (rom_req),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .addr_i   (rom_addr),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rdata_o  (rom_rdata),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rvalid_o (rom_rvalid),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .cfg_i    ('0) // tied off for now</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // sram device</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        ram_main_req;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        ram_main_we;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [13:0] ram_main_addr;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [31:0] ram_main_wdata;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [31:0] ram_main_wmask;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [31:0] ram_main_rdata;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic        ram_main_rvalid;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [1:0]  ram_main_rerror;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tlul_adapter_sram #(</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .SramAw(14),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .SramDw(32),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .Outstanding(2)</pre>
<pre id="id401" style="background-color: #FFB6C1; margin:0; padding:0 ">  ) u_tl_adapter_ram_main (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .clk_i   (clkmgr_clocks.clk_main_infra),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rst_ni   (rstmgr_resets.rst_sys_n),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_i     (tl_ram_main_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_o     (tl_ram_main_d_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .req_o    (ram_main_req),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .gnt_i    (1'b1), // Always grant as only one requester exists</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .we_o     (ram_main_we),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .addr_o   (ram_main_addr),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .wdata_o  (ram_main_wdata),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .wmask_o  (ram_main_wmask),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rdata_i  (ram_main_rdata),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rvalid_i (ram_main_rvalid),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rerror_i (ram_main_rerror)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  prim_ram_1p_adv #(</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .Width(32),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .Depth(16384),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .DataBitsPerMask(8),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .CfgW(8),</pre>
<pre style="margin:0; padding:0 ">    // TODO: enable parity once supported by the simulation infrastructure</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .EnableParity(0)</pre>
<pre id="id425" style="background-color: #FFB6C1; margin:0; padding:0 ">  ) u_ram1p_ram_main (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .clk_i   (clkmgr_clocks.clk_main_infra),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rst_ni   (rstmgr_resets.rst_sys_n),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .req_i    (ram_main_req),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .write_i  (ram_main_we),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .addr_i   (ram_main_addr),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .wdata_i  (ram_main_wdata),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .wmask_i  (ram_main_wmask),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rdata_o  (ram_main_rdata),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rvalid_o (ram_main_rvalid),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rerror_o (ram_main_rerror),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .cfg_i    ('0)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // host to flash communication</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic flash_host_req;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic flash_host_req_rdy;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic flash_host_req_done;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [flash_ctrl_pkg::BusWidth-1:0] flash_host_rdata;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  logic [flash_ctrl_pkg::AddrW-1:0] flash_host_addr;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  tlul_adapter_sram #(</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .SramAw(flash_ctrl_pkg::AddrW),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .SramDw(flash_ctrl_pkg::BusWidth),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .Outstanding(2),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .ByteAccess(0),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .ErrOnWrite(1)</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  ) u_tl_adapter_eflash (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .clk_i   (clkmgr_clocks.clk_main_infra),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rst_ni   (rstmgr_resets.rst_lc_n),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_i       (tl_eflash_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_o       (tl_eflash_d_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .req_o    (flash_host_req),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .gnt_i    (flash_host_req_rdy),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .we_o     (),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .addr_o   (flash_host_addr),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .wdata_o  (),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .wmask_o  (),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rdata_i  (flash_host_rdata),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rvalid_i (flash_host_req_done),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rerror_i (2'b00)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  flash_phy u_flash_eflash (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .clk_i   (clkmgr_clocks.clk_main_infra),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rst_ni   (rstmgr_resets.rst_lc_n),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .host_req_i      (flash_host_req),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .host_addr_i     (flash_host_addr),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .host_req_rdy_o  (flash_host_req_rdy),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .host_req_done_o (flash_host_req_done),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .host_rdata_o    (flash_host_rdata),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .flash_ctrl_i    (flash_ctrl_flash_req),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .flash_ctrl_o    (flash_ctrl_flash_rsp)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  uart u_uart (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_i (tl_uart_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_o (tl_uart_d_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">      // Input</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_rx_i    (cio_uart_rx_p2d),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">      // Output</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_tx_o    (cio_uart_tx_d2p),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_tx_en_o (cio_uart_tx_en_d2p),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">      // Interrupt</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_tx_watermark_o  (intr_uart_tx_watermark),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_rx_watermark_o  (intr_uart_rx_watermark),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_tx_empty_o      (intr_uart_tx_empty),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_rx_overflow_o   (intr_uart_rx_overflow),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_rx_frame_err_o  (intr_uart_rx_frame_err),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_rx_break_err_o  (intr_uart_rx_break_err),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_rx_timeout_o    (intr_uart_rx_timeout),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_rx_parity_err_o (intr_uart_rx_parity_err),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .clk_i (clkmgr_clocks.clk_io_secure),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .rst_ni (rstmgr_resets.rst_sys_io_n)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  gpio u_gpio (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_i (tl_gpio_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_o (tl_gpio_d_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">      // Input</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_gpio_i    (cio_gpio_gpio_p2d),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">      // Output</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_gpio_o    (cio_gpio_gpio_d2p),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_gpio_en_o (cio_gpio_gpio_en_d2p),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">      // Interrupt</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_gpio_o (intr_gpio_gpio),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .clk_i (clkmgr_clocks.clk_io_peri),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .rst_ni (rstmgr_resets.rst_sys_io_n)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  spi_device u_spi_device (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_i (tl_spi_device_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_o (tl_spi_device_d_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">      // Input</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_sck_i     (cio_spi_device_sck_p2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_csb_i     (cio_spi_device_csb_p2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_mosi_i    (cio_spi_device_mosi_p2d),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">      // Output</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_miso_o    (cio_spi_device_miso_d2p),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_miso_en_o (cio_spi_device_miso_en_d2p),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">      // Interrupt</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_rxf_o         (intr_spi_device_rxf),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_rxlvl_o       (intr_spi_device_rxlvl),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_txlvl_o       (intr_spi_device_txlvl),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_rxerr_o       (intr_spi_device_rxerr),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_rxoverflow_o  (intr_spi_device_rxoverflow),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_txunderflow_o (intr_spi_device_txunderflow),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .scanmode_i   (scanmode_i),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .clk_i (clkmgr_clocks.clk_io_peri),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .rst_ni (rstmgr_resets.rst_spi_device_n)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  flash_ctrl u_flash_ctrl (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_i (tl_flash_ctrl_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_o (tl_flash_ctrl_d_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">      // Interrupt</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_prog_empty_o (intr_flash_ctrl_prog_empty),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_prog_lvl_o   (intr_flash_ctrl_prog_lvl),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_rd_full_o    (intr_flash_ctrl_rd_full),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_rd_lvl_o     (intr_flash_ctrl_rd_lvl),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_op_done_o    (intr_flash_ctrl_op_done),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_op_error_o   (intr_flash_ctrl_op_error),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">      // Inter-module signals</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .flash_o(flash_ctrl_flash_req),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .flash_i(flash_ctrl_flash_rsp),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .clk_i (clkmgr_clocks.clk_main_infra),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .rst_ni (rstmgr_resets.rst_lc_n)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  rv_timer u_rv_timer (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_i (tl_rv_timer_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_o (tl_rv_timer_d_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">      // Interrupt</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_timer_expired_0_0_o (intr_rv_timer_timer_expired_0_0),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .clk_i (clkmgr_clocks.clk_io_timers),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .rst_ni (rstmgr_resets.rst_sys_io_n)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  aes u_aes (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_i (tl_aes_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_o (tl_aes_d_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .clk_i (clkmgr_clocks.clk_main_aes),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .rst_ni (rstmgr_resets.rst_sys_n)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  hmac u_hmac (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_i (tl_hmac_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_o (tl_hmac_d_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">      // Interrupt</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_hmac_done_o  (intr_hmac_hmac_done),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_fifo_empty_o (intr_hmac_fifo_empty),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_hmac_err_o   (intr_hmac_hmac_err),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">      // [0]: msg_push_sha_disabled</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .alert_tx_o  ( alert_tx[0:0] ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .alert_rx_i  ( alert_rx[0:0] ),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .clk_i (clkmgr_clocks.clk_main_hmac),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .rst_ni (rstmgr_resets.rst_sys_n)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  rv_plic u_rv_plic (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_i (tl_rv_plic_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_o (tl_rv_plic_d_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_src_i (intr_vector),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .irq_o      (irq_plic),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .irq_id_o   (irq_id),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .msip_o     (msip),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .clk_i (clkmgr_clocks.clk_main_secure),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .rst_ni (rstmgr_resets.rst_sys_n)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  pinmux u_pinmux (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_i (tl_pinmux_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_o (tl_pinmux_d_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">      // Inter-module signals</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .lc_pinmux_strap_i(pinmux_pkg::LC_PINMUX_STRAP_REQ_DEFAULT),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .lc_pinmux_strap_o(),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .sleep_en_i(1'b0),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .aon_wkup_req_o(),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .periph_to_mio_i      (mio_d2p    ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .periph_to_mio_oe_i   (mio_d2p_en ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .mio_to_periph_o      (mio_p2d    ),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .mio_out_o,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .mio_oe_o,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .mio_in_i,</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .periph_to_dio_i      (dio_d2p    ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .periph_to_dio_oe_i   (dio_d2p_en ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .dio_to_periph_o      (dio_p2d    ),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .dio_out_o,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .dio_oe_o,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .dio_in_i,</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .clk_i (clkmgr_clocks.clk_main_secure),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .clk_aon_i (clkmgr_clocks.clk_io_secure),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .rst_ni (rstmgr_resets.rst_sys_n),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .rst_aon_ni (rstmgr_resets.rst_sys_io_n)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  padctrl u_padctrl (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_i (tl_padctrl_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_o (tl_padctrl_d_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .mio_attr_o,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .dio_attr_o,</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .clk_i (clkmgr_clocks.clk_main_secure),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .rst_ni (rstmgr_resets.rst_sys_n)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  alert_handler u_alert_handler (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_i (tl_alert_handler_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_o (tl_alert_handler_d_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">      // Interrupt</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_classa_o (intr_alert_handler_classa),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_classb_o (intr_alert_handler_classb),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_classc_o (intr_alert_handler_classc),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_classd_o (intr_alert_handler_classd),</pre>
<pre style="margin:0; padding:0 ">      // TODO: wire this to hardware debug circuit</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .crashdump_o (          ),</pre>
<pre style="margin:0; padding:0 ">      // TODO: wire this to TRNG</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .entropy_i   ( 1'b0     ),</pre>
<pre style="margin:0; padding:0 ">      // alert signals</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .alert_rx_o  ( alert_rx ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .alert_tx_i  ( alert_tx ),</pre>
<pre style="margin:0; padding:0 ">      // escalation outputs</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .esc_rx_i    ( esc_rx   ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .esc_tx_o    ( esc_tx   ),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .clk_i (clkmgr_clocks.clk_main_secure),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .rst_ni (rstmgr_resets.rst_sys_n)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  pwrmgr u_pwrmgr (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_i (tl_pwrmgr_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_o (tl_pwrmgr_d_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">      // Interrupt</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_wakeup_o (intr_pwrmgr_wakeup),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">      // Inter-module signals</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .pwr_ast_o(),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .pwr_ast_i(pwrmgr_pkg::PWR_AST_RSP_DEFAULT),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .pwr_rst_o(pwrmgr_pwr_rst_req),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .pwr_rst_i(pwrmgr_pwr_rst_rsp),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .pwr_clk_o(pwrmgr_pwr_clk_req),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .pwr_clk_i(pwrmgr_pwr_clk_rsp),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .pwr_otp_o(),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .pwr_otp_i(pwrmgr_pkg::PWR_OTP_RSP_DEFAULT),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .pwr_lc_o(),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .pwr_lc_i(pwrmgr_pkg::PWR_LC_RSP_DEFAULT),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .pwr_flash_i(pwrmgr_pkg::PWR_FLASH_DEFAULT),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .pwr_cpu_i(pwrmgr_pwr_cpu),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .pwr_peri_i(pwrmgr_pkg::PWR_PERI_DEFAULT),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .clk_i (clk_io_i),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .clk_slow_i (clk_aon_i),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .rst_ni (rstmgr_resets.rst_por_n),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .rst_slow_ni (rstmgr_resets.rst_por_aon_n)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  rstmgr u_rstmgr (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_i (tl_rstmgr_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_o (tl_rstmgr_d_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">      // Inter-module signals</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .pwr_i(pwrmgr_pwr_rst_req),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .pwr_o(pwrmgr_pwr_rst_rsp),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .resets_o(rstmgr_resets),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .ast_i(rstmgr_pkg::RSTMGR_AST_DEFAULT),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cpu_i(rstmgr_cpu),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .peri_i(rstmgr_pkg::RSTMGR_PERI_DEFAULT),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .clk_i (clk_io_i),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .clk_aon_i (clk_aon_i),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .clk_main_i (clk_i),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .clk_io_i (clk_io_i),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .clk_usb_i (clk_usb_i),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .rst_ni (rst_ni)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  clkmgr u_clkmgr (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_i (tl_clkmgr_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_o (tl_clkmgr_d_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">      // Inter-module signals</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .clocks_o(clkmgr_clocks),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .pwr_i(pwrmgr_pwr_clk_req),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .pwr_o(pwrmgr_pwr_clk_rsp),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .dft_i(clkmgr_pkg::CLK_DFT_DEFAULT),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .status_i(clkmgr_pkg::CLK_HINT_STATUS_DEFAULT),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .clk_i (clk_io_i),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .clk_main_i (clk_i),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .clk_io_i (clk_io_i),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .clk_usb_i (clk_usb_i),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .clk_aon_i (clk_aon_i),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .rst_ni (rstmgr_resets.rst_por_io_n),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .rst_main_ni (rstmgr_resets.rst_por_n),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .rst_io_ni (rstmgr_resets.rst_por_io_n),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .rst_usb_ni (rstmgr_resets.rst_por_usb_n)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  nmi_gen u_nmi_gen (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_i (tl_nmi_gen_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_o (tl_nmi_gen_d_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">      // Interrupt</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_esc0_o (intr_nmi_gen_esc0),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_esc1_o (intr_nmi_gen_esc1),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_esc2_o (intr_nmi_gen_esc2),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_esc3_o (intr_nmi_gen_esc3),</pre>
<pre style="margin:0; padding:0 ">      // escalation signal inputs</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .esc_rx_o    ( esc_rx   ),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .esc_tx_i    ( esc_tx   ),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .clk_i (clkmgr_clocks.clk_main_secure),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .rst_ni (rstmgr_resets.rst_sys_n)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  usbdev u_usbdev (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_i (tl_usbdev_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .tl_o (tl_usbdev_d_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">      // Input</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_sense_i         (cio_usbdev_sense_p2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_d_i             (cio_usbdev_d_p2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_dp_i            (cio_usbdev_dp_p2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_dn_i            (cio_usbdev_dn_p2d),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">      // Output</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_se0_o           (cio_usbdev_se0_d2p),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_se0_en_o        (cio_usbdev_se0_en_d2p),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_dp_pullup_o     (cio_usbdev_dp_pullup_d2p),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_dp_pullup_en_o  (cio_usbdev_dp_pullup_en_d2p),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_dn_pullup_o     (cio_usbdev_dn_pullup_d2p),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_dn_pullup_en_o  (cio_usbdev_dn_pullup_en_d2p),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_tx_mode_se_o    (cio_usbdev_tx_mode_se_d2p),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_tx_mode_se_en_o (cio_usbdev_tx_mode_se_en_d2p),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_suspend_o       (cio_usbdev_suspend_d2p),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_suspend_en_o    (cio_usbdev_suspend_en_d2p),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_d_o             (cio_usbdev_d_d2p),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_d_en_o          (cio_usbdev_d_en_d2p),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_dp_o            (cio_usbdev_dp_d2p),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_dp_en_o         (cio_usbdev_dp_en_d2p),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_dn_o            (cio_usbdev_dn_d2p),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .cio_dn_en_o         (cio_usbdev_dn_en_d2p),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">      // Interrupt</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_pkt_received_o    (intr_usbdev_pkt_received),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_pkt_sent_o        (intr_usbdev_pkt_sent),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_disconnected_o    (intr_usbdev_disconnected),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_host_lost_o       (intr_usbdev_host_lost),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_link_reset_o      (intr_usbdev_link_reset),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_link_suspend_o    (intr_usbdev_link_suspend),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_link_resume_o     (intr_usbdev_link_resume),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_av_empty_o        (intr_usbdev_av_empty),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_rx_full_o         (intr_usbdev_rx_full),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_av_overflow_o     (intr_usbdev_av_overflow),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_link_in_err_o     (intr_usbdev_link_in_err),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_rx_crc_err_o      (intr_usbdev_rx_crc_err),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_rx_pid_err_o      (intr_usbdev_rx_pid_err),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_rx_bitstuff_err_o (intr_usbdev_rx_bitstuff_err),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_frame_o           (intr_usbdev_frame),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .intr_connected_o       (intr_usbdev_connected),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">      // Inter-module signals</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .usb_ref_val_o(),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .usb_ref_pulse_o(),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .clk_i (clkmgr_clocks.clk_io_peri),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .clk_usb_48mhz_i (clkmgr_clocks.clk_usb_peri),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .rst_ni (rstmgr_resets.rst_sys_io_n),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      .rst_usb_48mhz_ni (rstmgr_resets.rst_usb_n)</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // interrupt assignments</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign intr_vector = {</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_pwrmgr_wakeup,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_usbdev_connected,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_usbdev_frame,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_usbdev_rx_bitstuff_err,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_usbdev_rx_pid_err,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_usbdev_rx_crc_err,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_usbdev_link_in_err,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_usbdev_av_overflow,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_usbdev_rx_full,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_usbdev_av_empty,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_usbdev_link_resume,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_usbdev_link_suspend,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_usbdev_link_reset,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_usbdev_host_lost,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_usbdev_disconnected,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_usbdev_pkt_sent,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_usbdev_pkt_received,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_nmi_gen_esc3,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_nmi_gen_esc2,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_nmi_gen_esc1,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_nmi_gen_esc0,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_alert_handler_classd,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_alert_handler_classc,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_alert_handler_classb,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_alert_handler_classa,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_hmac_hmac_err,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_hmac_fifo_empty,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_hmac_hmac_done,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_flash_ctrl_op_error,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_flash_ctrl_op_done,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_flash_ctrl_rd_lvl,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_flash_ctrl_rd_full,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_flash_ctrl_prog_lvl,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_flash_ctrl_prog_empty,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_spi_device_txunderflow,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_spi_device_rxoverflow,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_spi_device_rxerr,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_spi_device_txlvl,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_spi_device_rxlvl,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_spi_device_rxf,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_uart_rx_parity_err,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_uart_rx_timeout,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_uart_rx_break_err,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_uart_rx_frame_err,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_uart_rx_overflow,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_uart_tx_empty,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_uart_rx_watermark,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_uart_tx_watermark,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      intr_gpio_gpio,</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">      1'b 0 // For ID 0.</pre>
<pre style="margin:0; padding:0 ">  };</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // TL-UL Crossbar</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  xbar_main u_xbar_main (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .clk_main_i (clkmgr_clocks.clk_main_infra),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .clk_fixed_i (clkmgr_clocks.clk_io_infra),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rst_main_ni (rstmgr_resets.rst_sys_n),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rst_fixed_ni (rstmgr_resets.rst_sys_io_n),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_corei_i         (tl_corei_h_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_corei_o         (tl_corei_h_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_cored_i         (tl_cored_h_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_cored_o         (tl_cored_h_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_dm_sba_i        (tl_dm_sba_h_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_dm_sba_o        (tl_dm_sba_h_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_rom_o           (tl_rom_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_rom_i           (tl_rom_d_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_debug_mem_o     (tl_debug_mem_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_debug_mem_i     (tl_debug_mem_d_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_ram_main_o      (tl_ram_main_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_ram_main_i      (tl_ram_main_d_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_eflash_o        (tl_eflash_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_eflash_i        (tl_eflash_d_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_peri_o          (tl_main_peri_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_peri_i          (tl_main_peri_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_flash_ctrl_o    (tl_flash_ctrl_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_flash_ctrl_i    (tl_flash_ctrl_d_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_hmac_o          (tl_hmac_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_hmac_i          (tl_hmac_d_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_aes_o           (tl_aes_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_aes_i           (tl_aes_d_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_rv_plic_o       (tl_rv_plic_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_rv_plic_i       (tl_rv_plic_d_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_pinmux_o        (tl_pinmux_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_pinmux_i        (tl_pinmux_d_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_padctrl_o       (tl_padctrl_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_padctrl_i       (tl_padctrl_d_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_alert_handler_o (tl_alert_handler_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_alert_handler_i (tl_alert_handler_d_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_nmi_gen_o       (tl_nmi_gen_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_nmi_gen_i       (tl_nmi_gen_d_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .scanmode_i</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  xbar_peri u_xbar_peri (</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .clk_peri_i (clkmgr_clocks.clk_io_infra),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .rst_peri_ni (rstmgr_resets.rst_sys_io_n),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_main_i       (tl_main_peri_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_main_o       (tl_main_peri_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_uart_o       (tl_uart_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_uart_i       (tl_uart_d_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_gpio_o       (tl_gpio_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_gpio_i       (tl_gpio_d_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_spi_device_o (tl_spi_device_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_spi_device_i (tl_spi_device_d_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_rv_timer_o   (tl_rv_timer_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_rv_timer_i   (tl_rv_timer_d_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_usbdev_o     (tl_usbdev_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_usbdev_i     (tl_usbdev_d_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_pwrmgr_o     (tl_pwrmgr_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_pwrmgr_i     (tl_pwrmgr_d_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_rstmgr_o     (tl_rstmgr_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_rstmgr_i     (tl_rstmgr_d_d2h),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_clkmgr_o     (tl_clkmgr_d_h2d),</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .tl_clkmgr_i     (tl_clkmgr_d_d2h),</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    .scanmode_i</pre>
<pre style="margin:0; padding:0 ">  );</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // Pinmux connections</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign mio_d2p = {</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    cio_gpio_gpio_d2p</pre>
<pre style="margin:0; padding:0 ">  };</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign mio_d2p_en = {</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    cio_gpio_gpio_en_d2p</pre>
<pre style="margin:0; padding:0 ">  };</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign {</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    cio_gpio_gpio_p2d</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  } = mio_p2d;</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // Dedicated IO connections</pre>
<pre style="margin:0; padding:0 ">  // Input-only DIOs have no d2p signals</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign dio_d2p = {</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    1'b0, // DIO14: cio_spi_device_sck</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    1'b0, // DIO13: cio_spi_device_csb</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    1'b0, // DIO12: cio_spi_device_mosi</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    cio_spi_device_miso_d2p, // DIO11</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    1'b0, // DIO10: cio_uart_rx</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    cio_uart_tx_d2p, // DIO9</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    1'b0, // DIO8: cio_usbdev_sense</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    cio_usbdev_se0_d2p, // DIO7</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    cio_usbdev_dp_pullup_d2p, // DIO6</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    cio_usbdev_dn_pullup_d2p, // DIO5</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    cio_usbdev_tx_mode_se_d2p, // DIO4</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    cio_usbdev_suspend_d2p, // DIO3</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    cio_usbdev_d_d2p, // DIO2</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    cio_usbdev_dp_d2p, // DIO1</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    cio_usbdev_dn_d2p // DIO0</pre>
<pre style="margin:0; padding:0 ">  };</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign dio_d2p_en = {</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    1'b0, // DIO14: cio_spi_device_sck</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    1'b0, // DIO13: cio_spi_device_csb</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    1'b0, // DIO12: cio_spi_device_mosi</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    cio_spi_device_miso_en_d2p, // DIO11</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    1'b0, // DIO10: cio_uart_rx</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    cio_uart_tx_en_d2p, // DIO9</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    1'b0, // DIO8: cio_usbdev_sense</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    cio_usbdev_se0_en_d2p, // DIO7</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    cio_usbdev_dp_pullup_en_d2p, // DIO6</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    cio_usbdev_dn_pullup_en_d2p, // DIO5</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    cio_usbdev_tx_mode_se_en_d2p, // DIO4</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    cio_usbdev_suspend_en_d2p, // DIO3</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    cio_usbdev_d_en_d2p, // DIO2</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    cio_usbdev_dp_en_d2p, // DIO1</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">    cio_usbdev_dn_en_d2p // DIO0</pre>
<pre style="margin:0; padding:0 ">  };</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // Output-only DIOs have no p2d signal</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign cio_spi_device_sck_p2d    = dio_p2d[14]; // DIO14</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign cio_spi_device_csb_p2d    = dio_p2d[13]; // DIO13</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign cio_spi_device_mosi_p2d   = dio_p2d[12]; // DIO12</pre>
<pre style="margin:0; padding:0 ">  // DIO11: cio_spi_device_miso</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign cio_uart_rx_p2d           = dio_p2d[10]; // DIO10</pre>
<pre style="margin:0; padding:0 ">  // DIO9: cio_uart_tx</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign cio_usbdev_sense_p2d      = dio_p2d[8]; // DIO8</pre>
<pre style="margin:0; padding:0 ">  // DIO7: cio_usbdev_se0</pre>
<pre style="margin:0; padding:0 ">  // DIO6: cio_usbdev_dp_pullup</pre>
<pre style="margin:0; padding:0 ">  // DIO5: cio_usbdev_dn_pullup</pre>
<pre style="margin:0; padding:0 ">  // DIO4: cio_usbdev_tx_mode_se</pre>
<pre style="margin:0; padding:0 ">  // DIO3: cio_usbdev_suspend</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign cio_usbdev_d_p2d          = dio_p2d[2]; // DIO2</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign cio_usbdev_dp_p2d         = dio_p2d[1]; // DIO1</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  assign cio_usbdev_dn_p2d         = dio_p2d[0]; // DIO0</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">  // make sure scanmode_i is never X (including during reset)</pre>
<pre style="margin:0; padding:0 ">  `ASSERT_KNOWN(scanmodeKnown, scanmode_i, clk_i, 0)</pre>
<pre style="margin:0; padding:0 "></pre>
<pre style="margin:0; padding:0 ">endmodule</pre>
<pre style="margin:0; padding:0 "></pre>
</body>
</html>
